<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>MDMA golf cup RSVP</title>
<style>
    body{
    margin:0;
    font-family:'Playfair Display', serif;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:url("sleepyhollow.jpg") center/cover no-repeat fixed;
    position:relative;
    color:#e9edf3;
  }

  .card{
    position:relative;
    z-index:1;
    width:min(500px,60%);
    background:rgba(12,30,20,.92);
    border:1px solid rgba(255,255,255,.08);
    border-radius:16px;
    box-shadow:0 12px 36px rgba(0,0,0,.6);
    overflow:hidden;
  }

  .hero{
    padding:28px 24px 12px;
    border-bottom:1px solid rgba(255,255,255,.07);
    background:radial-gradient(700px 250px at 50% -10%, rgba(106,255,166,.25), transparent 60%);
  }

  .kicker{
    font-family:'Great Vibes', cursive;
    letter-spacing:.08em;
    color:#b2ffb9;
    font-size:1.4rem;
    font-weight:600;
  }

  h1{
    font-family:'Great Vibes', cursive;
    margin:8px 0 6px;
    font-size:clamp(40px,5.8vw,62px);
    line-height:1.1;
    font-weight:400;
    text-transform:none;
    color:#fff;
  }

  .subtitle{
    font-family:'Playfair Display', serif;
    margin:0;
    font-weight:600;
    letter-spacing:.04em;
    color:#dcffd3;
    font-size:clamp(14px,2vw,18px);
    text-transform:none;
  }

  .format{
    margin:6px 0;
    font-family:'Playfair Display', serif;
    font-style:italic;
    color:#b7ffb7;
    font-size:14px;
  }

  .fine{
    margin:10px 0 0;
    color:#9aa6b2;
    font-size:12px;
  }

  .body{
    position:relative;
    padding:18px 24px 26px;
    display:flex;
    flex-direction:column;
    gap:16px;
  }

  input[type="text"]{
    padding:10px 12px;
    border-radius:8px;
    border:1px solid #ccc;
    width:95%;
    font-size:14px;
    background:#fdf8f1; /* warm cream */
    color:#222;
    font-family:'Playfair Display', serif;
  }

  .rsvp{
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    justify-content:center;
  }

  /* Classic club-style buttons */
  button{
    appearance:none;
    border:2px solid #c2b48c;
    cursor:pointer;
    padding:10px 18px;
    border-radius:10px;
    font-family:'Playfair Display', serif;
    font-weight:600;
    letter-spacing:.04em;
    font-size:15px;
    background:#f7f3e9;          /* parchment cream */
    color:#163b23;               /* deep green text */
    box-shadow:0 4px 8px rgba(0,0,0,.25);
    transition:all .2s ease;
  }

  button:hover{
    background:#fffdf8;
    transform:translateY(-1px);
    box-shadow:0 6px 12px rgba(0,0,0,.25);
  }

  .yes{
    border-color:#91c792;
    color:#103b24;
  }

  .no{
    border-color:#d39a9a;
    color:#3b1010;
  }

  .msg{font-size:13px; text-align:center;}
  .ok{color:#9ae6b4;}
  .err{color:#ffb4b4;}

  .itinerary{
    font-size:14px;
    color:#c8d9c8;
    line-height:1.5;
    border-top:1px solid rgba(255,255,255,.1);
    padding-top:10px;
  }

  .foot{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:12px;
    border-top:1px solid rgba(255,255,255,.07);
    padding:12px 16px;
    font-size:12px;
    color:#9aa6b2;
  }

  .brand{
    font-family:'Playfair Display', serif;
    text-transform:uppercase;
    letter-spacing:.14em;
  }
</style>
</head>
<body>
  <div class="card" role="group" aria-label="RSVP">
    <div class="hero">
      <div class="kicker">Winxice</div>
      <h1>Saturday Golf Round</h1>
      <p class="subtitle"><a href="https://www.youtube.com/watch?v=LuKm4L9ryB0&list=RDLuKm4L9ryB0&start_radio=1=YOUR_VIDEO_ID" target="_blank" style="color:#dcffd3; text-decoration:none;"> ▶ Watch the Golf Preview</a></p>
      <p class="format">Format: BBA alternate shot</p>
      <p class="fine">Cubo golf course • 9:00 AM • 18 Oct 2025</p>
    </div>

    <div class="body">
      <label for="guestName" style="font-size:14px;">Your name:</label>
      <input type="text" id="guestName" placeholder="Enter your name">

      <div class="rsvp">
        <button id="btnYes" class="yes">Count me in ⛳️</button>
        <button id="btnNo"  class="no">Can’t make it</button>
      </div>

      <div id="status" class="msg" aria-live="polite"></div>

      <div class="itinerary">
        <strong>Itinerary (provisory):</strong><br>
        • 08:30 — Coffee, kenjaža & check-in at clubhouse<br>
        • 09:00 — Tee off (front 9)<br>
        • 09:07 — Hiri tee off<br>
        • 11:00 — Back 9<br>
        • 13:00 — Drinks<br>
      </div>
    </div>

    <div class="foot">
      <span class="brand">Presented by E-Stave</span>
    </div>
  </div>

<script defer>
document.addEventListener('DOMContentLoaded', () => {
  const FORM_ENDPOINT = "https://formspree.io/f/xyznljyv";  // your Formspree endpoint
  const TEST_MODE = false;

  try{
    const fmt=new Intl.DateTimeFormat('en-GB',{day:'2-digit',month:'short',year:'numeric'});
    document.getElementById('dateText').textContent=fmt.format(new Date());
  }catch{}

  const status=document.getElementById('status');
  const yesBtn=document.getElementById('btnYes');
  const noBtn=document.getElementById('btnNo');
  const nameField=document.getElementById('guestName');

  function show(msg,ok=false){status.className="msg "+(ok?"ok":"err");status.textContent=msg;}

  async function send(choice){
    const name=nameField.value.trim();
    if(!name){show("⚠️ Please enter your name before submitting.");return;}
    yesBtn.disabled=noBtn.disabled=true;
    status.textContent="Sending your RSVP…";

    const PAGE_URL=window.location.origin+window.location.pathname.replace(/index\.html?$/,'');
    const payload={name,event:"Weekend Golf Round",venue:"Royal Bled Golf Course",time:"09:00 AM",response:choice,page:PAGE_URL,stamp:new Date().toISOString()};

    try{
      const url=TEST_MODE?"https://httpbin.org/post":(FORM_ENDPOINT||"");
      if(!url){await new Promise(r=>setTimeout(r,250));show(`✅ Thanks, ${name}! See you on the course!`,true);return;}
      const res=await fetch(url,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Accept":"application/json"},body:JSON.stringify(payload)});
      if(!res.ok)throw new Error("HTTP "+res.status);
      show(`✅ Thanks, ${name}! You wil never get invited again!`,true);
    }catch(err){
      console.error(err);
      show("⚠️ Couldn't send RSVP. Check endpoint or try again.");
      yesBtn.disabled=noBtn.disabled=false;
    }
  }

  yesBtn.addEventListener('click',()=>send("Yes"));
  noBtn.addEventListener('click',()=>send("No"));
});
</script>
</body>
</html>
